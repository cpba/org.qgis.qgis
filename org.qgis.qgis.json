{
    "id" : "org.qgis.qgis",
    "base": "io.qt.qtwebkit.BaseApp",
    "base-version": "5.15",
    "runtime" : "org.kde.Platform",
    "runtime-version" : "5.15",
    "sdk" : "org.kde.Sdk",
    "command" : "qgis",
    "rename-icon": "qgis",
    "finish-args" : [
        "--env=LD_LIBRARY_PATH=/app/lib:/app/grass78/lib",
        "--share=ipc",
        "--share=network",
        "--socket=wayland",
        "--socket=x11",
        "--filesystem=host",
        "--device=dri"
    ],
    "separate-locales" : false,
    "build-options" : {
        "env" : {
            "PYTHONPATH" : "/app/lib/python3.8/site-packages:/usr/lib/python3.8/site-packages"
        }
    },
    "modules" : [
        {
            "name" : "qgis",
            "buildsystem" : "cmake-ninja",
            "sources" : [
                {
                    "type" : "git",
                    "url" : "https://github.com/qgis/QGIS.git",
                    "branch" : "final-3_22_0"
                }
            ],
            "config-opts" : [
                "-DWITH_3D=TRUE",
                "-DGRASS_PREFIX7=/app/grass78",
                "-DQWT_LIBRARY=/app/lib/libqwt.so",
                "-DSQLITE3_INCLUDE_DIR=/app/include",
                "-DSQLITE3_LIBRARY=/app/lib/libsqlite3.so"
            ],
            "modules" : [
                {
                    "name" : "proj",
                    "sources" : [
                        {
                            "type" : "git",
                            "url" : "https://github.com/OSGeo/PROJ.git",
                            "branch" : "6.3.2"
                        }
                    ]
                },
                {
                    "name" : "geos",
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://download.osgeo.org/geos/geos-3.8.1.tar.bz2",
                            "sha256" : "4258af4308deb9dbb5047379026b4cd9838513627cb943a44e16c40e42ae17f7"
                        }
                    ]
                },
                {
                    "name" : "spatialindex",
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://download.osgeo.org/libspatialindex/spatialindex-src-1.8.5.tar.bz2",
                            "sha256" : "31ec0a9305c3bd6b4ad60a5261cba5402366dd7d1969a8846099717778e9a50a"
                        }
                    ]
                },
                {
                    "name": "minizip",
                    "subdir": "contrib/minizip",
                    "sources": [
                        {
                            "type": "archive",
                            "url": "https://zlib.net/zlib-1.2.11.tar.gz",
                            "sha256": "c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1"
                        },
                        {
                            "type": "shell",
                            "commands": [
                                "echo \"autoreconf -ifv $@\" > contrib/minizip/autogen.sh",
                                "chmod a+x contrib/minizip/autogen.sh"
                            ]
                        }
                    ]
                },
                {
                    "name" : "spatialite",
                    "config-opts" : [
                        "prefix=/app",
                        "--enable-libxml2",
                        "CFLAGS=-DACCEPT_USE_OF_DEPRECATED_PROJ_API_H=1"
                    ],
                    "rm-configure": true,
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://www.gaia-gis.it/gaia-sins/libspatialite-sources/libspatialite-5.0.1.tar.gz",
                            "sha256" : "eecbc94311c78012d059ebc0fae86ea5ef6eecb13303e6e82b3753c1b3409e98"
                        },
                        {
                            "type": "script",
                            "dest-filename": "autogen.sh",
                            "commands": [
                                "autoreconf -vfi"
                            ]
                        }
                    ],
                    "modules" : [
                        {
                            "name" : "freexl",
                            "rm-configure": true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "http://www.gaia-gis.it/gaia-sins/freexl-sources/freexl-1.0.5.tar.gz",
                                    "sha256" : "3dc9b150d218b0e280a3d6a41d93c1e45f4d7155829d75f1e5bf3e0b0de6750d"
                                },
                                {
                                    "type": "script",
                                    "dest-filename": "autogen.sh",
                                    "commands": [
                                        "AUTOMAKE=\"automake --foreign\" autoreconf -vfi"
                                    ]
                                }
                            ]
                        },
                        {
                            "name" : "rttopo",
                            "sources" : [
                                {
                                    "type" : "git",
                                    "url" : "https://git.osgeo.org/gitea/rttopo/librttopo.git",
                                    /*"branch" : " librttopo-1.1.0",*/
                                    "commit": "98a8bdd0b2d13f6b685d0658b4bce15d46606a1a"
                                }
                            ]
                        },
                        {
                            "name" : "sqlite3",
                            "config-opts": [ "--disable-static", "--disable-amalgamation", "--enable-rtree", "--enable-json1", "CFLAGS=-DSQLITE_ENABLE_COLUMN_METADATA=1" ],
                            "sources" : [
                                {
                                    "type": "archive",
                                    "url": "https://www.sqlite.org/2021/sqlite-autoconf-3360000.tar.gz",
                                    "sha256": "bd90c3eb96bee996206b83be7065c9ce19aef38c3f4fb53073ada0d0b69bbce3"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name" : "postgresql",
                    "config-opts" : [
                        "--disable-rpath",
                        "--with-openssl"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://ftp.postgresql.org/pub/source/v12.2/postgresql-12.2.tar.bz2",
                            "sha256" : "ad1dcc4c4fc500786b745635a9e1eba950195ce20b8913f50345bb7d5369b5de"
                        }
                    ]
                },
                {
                    "name" : "unixodbc",
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://www.unixodbc.org/unixODBC-2.3.7.tar.gz",
                            "sha256" : "45f169ba1f454a72b8fcbb82abd832630a3bf93baa84731cf2949f449e1e3e77"
                        }
                    ]
                },
                {
                    "name": "zstd",
                    "buildsystem": "cmake-ninja",
                    "config-opts": [ "-DCMAKE_BUILD_TYPE=Release" ],
                    "subdir": "build/cmake",
                    "sources": [
                        {
                            "type": "git",
                            "url": "https://github.com/facebook/zstd.git",
                            "branch" : "v1.5.0"
                        }
                    ]
                },
                {
                    "name" : "gdal",
                    "config-opts" : [
                        "--with-python=python3",
                        "--with-libtiff=internal",
                        "--with-netcdf",
                        "--with-sqlite3",
                        "--with-geotiff=internal",
                        "--with-mysql",
                        "--with-curl",
                        "--with-hdf5",
                        "--with-geos",
                        "--with-png",
                        "--with-poppler",
                        "--with-spatialite=/app",
                        "--with-openjpeg",
                        "--with-hide-internal-symbols",
                        "--with-bsb",
                        "--with-grib",
                        "--with-pam",
                        "--with-pcre",
                        "--with-threads=yes",
                        "--with-liblzma=yes",
                        "--with-pcidsk=internal",
                        "--with-pcraster=internal",
                        "--with-qhull=internal",
                        "--with-cryptopp",
                        "--with-crypto",
                        "--with-cfitsio",
                        "--with-xerces=/app",
                        "--with-odbc",
                        "--with-proj",
                        "--with-rename-internal-libtiff-symbols",
                        "--with-rename-internal-libgeotiff-symbols",
                        "--with-jpeg12",
                        "--with-armadillo",
                        "--with-libkml=/app",
                        "--with-jpeg=internal",
                        "--with-libtiff=internal"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://download.osgeo.org/gdal/3.4.0/gdal-3.4.0.tar.xz",
                            "sha256" : "ac7bd2bb9436f3fc38bc7309704672980f82d64b4d57627d27849259b8f71d5c"
                        }
                    ],
                    "modules" : [
                        {
                            "name" : "swig",
                            "config-opts" : [
                                "--without-boost",
                                "--without-pcre",
                                "--without-alllang",
                                "--with-python3"
                            ],
                            "cleanup" : [
                                "/bin",
                                "/share/swig"
                            ],
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "http://prdownloads.sourceforge.net/swig/swig-3.0.12.tar.gz",
                                    "sha256" : "7cf9f447ae7ed1c51722efc45e7f14418d15d7a1e143ac9f09a668999f4fc94d"
                                }
                            ]
                        },
                        {
                            "name" : "xerces-c",
                            "no-autogen" : true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://archive.apache.org/dist/xerces/c/3/sources/xerces-c-3.2.2.tar.gz",
                                    "sha256" : "dd6191f8aa256d3b4686b64b0544eea2b450d98b4254996ffdfe630e0c610413"
                                }
                            ]
                        },
                        {
                            "name" : "szip",
                            "no-autogen" : true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://support.hdfgroup.org/ftp/lib-external/szip/2.1.1/src/szip-2.1.1.tar.gz",
                                    "sha256" : "21ee958b4f2d4be2c9cabfa5e1a94877043609ce86fde5f286f105f7ff84d412"
                                }
                            ]
                        },
                        {
                            "name" : "hdf5",
                            "no-autogen" : true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.12/hdf5-1.12.0/src/hdf5-1.12.0.tar.bz2",
                                    "sha256" : "97906268640a6e9ce0cde703d5a71c9ac3092eded729591279bf2e3ca9765f61"
                                }
                            ]
                        },
                        {
                            "name" : "uriparser",
                            "buildsystem": "cmake-ninja",
                            "config-opts": [ 
                                "-DURIPARSER_BUILD_TESTS=OFF",
                                "-DURIPARSER_BUILD_DOCS=OFF"
                            ],
                            "builddir": true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://github.com/uriparser/uriparser/releases/download/uriparser-0.9.5/uriparser-0.9.5.tar.bz2",
                                    "sha256" : "dd8061eba7f2e66c151722e6db0b27c972baa6215cf16f135dbe0f0a4bc6606c"
                                }
                            ]
                        },
                        {
                            "name": "cfitsio",
                            "buildsystem": "simple",
                            "build-commands": [
                                "./configure --prefix=${FLATPAK_DEST} --enable-reentrant",
                                "make shared",
                                "make install"
                            ],
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://heasarc.gsfc.nasa.gov/FTP/software/fitsio/c/cfitsio-3.48.tar.gz",
                                    "sha256": "91b48ffef544eb8ea3908543052331072c99bf09ceb139cb3c6977fc3e47aac1"
                                }
                            ]
                        },
                        {
                            "name" : "armadillo",
                            "buildsystem": "cmake-ninja",
                            "config-opts": [ 
                                "-DDETECT_HDF5=ON"
                            ],
                            "builddir": true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://sourceforge.net/projects/arma/files/armadillo-10.2.0.tar.xz",
                                    "sha256" : "82f84d526c8da72240ab05cb12b3f3f1e674d20ccb38e008e4bf53355b1aa68a"
                                }
                            ]
                        },
                        {
                            "name": "cryptopp",
                            "buildsystem": "simple",
                            "build-commands": [
                                "make shared all",
                                "make install PREFIX=${FLATPAK_DEST}"
                            ],
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://github.com/weidai11/cryptopp/archive/CRYPTOPP_8_5_0.tar.gz",
                                    "sha256": "8f64cf09cf4f61d5d74bca53574b8cc9959186cc0f072a2e6597e4999d6ad5db"
                                }
                            ]
                        },
                        {
                            "name": "boost",
                            "buildsystem": "simple",
                            "build-commands": [
                                "./bootstrap.sh --prefix=${FLATPAK_DEST}",
                                "./b2 -j ${FLATPAK_BUILDER_N_JOBS} headers",
                                "cp -r boost ${FLATPAK_DEST}/include/boost"
                            ],
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://downloads.sourceforge.net/project/boost/boost/1.73.0/boost_1_73_0.tar.bz2",
                                    "sha256": "4eb3b8d442b426dc35346235c8733b5ae35ba431690e38c6a8263dce9fcbb402"
                                }
                            ]
                        },
                        {
                            "name" : "libkml",
                            "buildsystem": "cmake-ninja",
                            "builddir": true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://github.com/libkml/libkml/archive/1.3.0.tar.gz",
                                    "sha256" : "8892439e5570091965aaffe30b08631fdf7ca7f81f6495b4648f0950d7ea7963"
                                }
                            ]
                        },
                        {
                            "name" : "netcdf",
                            "no-autogen" : true,
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://github.com/Unidata/netcdf-c/archive/v4.7.4.tar.gz",
                                    "sha256" : "99930ad7b3c4c1a8e8831fb061cb02b2170fc8e5ccaeda733bd99c3b9d31666b"
                                }
                            ]
                        },
                        {
                            "name": "openjpeg2",
                            "buildsystem": "cmake-ninja",
                            "builddir": true,
                            "sources": [ { "type": "git", "url": "https://github.com/uclouvain/openjpeg.git", "branch": "v2.4.0" } ],
                            "cleanup": [ "/bin", "/include", "/lib/openjpeg-*", "/lib/pkgconfig" ]
                        },

                        {
                            "name": "poppler",
                            "modules": [
                                {
                                    "name": "popplerdata",
                                    "buildsystem": "cmake-ninja",
                                    "builddir": true,
                                    "sources": [
                                        {
                                            "type": "archive",
                                            "url": "https://poppler.freedesktop.org/poppler-data-0.4.9.tar.gz",
                                            "sha256": "1f9c7e7de9ecd0db6ab287349e31bf815ca108a5a175cf906a90163bdbe32012"
                                        }
                                    ]
                                }
                            ],
                            "config-opts": [ 
                                "-DCMAKE_BUILD_TYPE=Release",
                                "-DENABLE_TESTING=OFF",
                                "-DENABLE_UNSTABLE_API_ABI_HEADERS=ON",
                                "-DENABLE_CPP=ON",
                                "-DENABLE_GLIB=OFF",
                                "-DENABLE_GOBJECT_INTROSPECTION=OFF",
                                "-DENABLE_UTILS=OFF",
                                "-DENABLE_LIBOPENJPEG=openjpeg2"
                            ],
                            "cleanup": [ "/bin", "/share" ],
                            "buildsystem": "cmake-ninja",
                            "builddir": true,
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://poppler.freedesktop.org/poppler-0.86.0.tar.xz",
                                    "sha256": "6ae8a0b9fde8718025e0034448329efe5fd38194a32ac38f84a1528203c1f9bc"
                                }
                            ]
                        },
                        {
                            "name": "mysql-boost",
                            "config-opts": [
                                "-DCMAKE_BUILD_TYPE=Release",
                                "-DFORCE_INSOURCE_BUILD=1",
                                "-DWITH_EDITLINE=bundled",
                                "-DWITH_SSL=yes",
                                "-DWITH_UNIT_TESTS=OFF",
                                "-DWITHOUT_SERVER=ON"
                             ],
                            "buildsystem": "cmake-ninja",
                            "builddir": true,
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-boost-8.0.25.tar.gz",
                                    "sha256": "93c5f57cbd69573a8d9798725edec52e92830f70c398a1afaaea2227db331728"
                                }
                            ]
                        },
                        {
                            "name": "libjpeg-turbo",
                            "config-opts": [ 
                                "-DWITH_JPEG8=1"
                             ],
                            "cleanup": [ "/bin", "/share" ],
                            "buildsystem": "cmake-ninja",
                            "builddir": true,
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://sourceforge.net/projects/libjpeg-turbo/files/2.1.1/libjpeg-turbo-2.1.1.tar.gz",
                                    "sha256": "b76aaedefb71ba882cbad4e9275b30c2ae493e3195be0a099425b5c6b99bd510"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name" : "qca",
                    "buildsystem" : "cmake-ninja",
                    "config-opts" : [
                        "-DBUILD_TESTS=OFF"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://download.kde.org/stable/qca/2.3.1/qca-2.3.1.tar.xz",
                            "sha256" : "c13851109abefc4623370989fae3a745bf6b1acb3c2a13a8958539823e974e4b"
                        }
                    ]
                },
                {
                    "name" : "qwt",
                    "buildsystem" : "qmake",
                    "config-opts" : [
                        "-after",
                        "QWT_INSTALL_PREFIX=/app"
                    ],
                    "cleanup" : [
                        "/doc",
                        "/features",
                        "/plugins",
                        "/include",
                        "/lib/pkgconfig"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://sourceforge.net/projects/qwt/files/qwt/6.1.5/qwt-6.1.5.zip",
                            "sha256" : "a1208783c2639101b11a9f359d98eaf007e95f7292f1c1df5514884dd8b4373d"
                        },
                        {
                            "type" : "shell",
                            "commands" : [
                                "sed 's/QWT_INSTALL_PREFIX\\s*=\\s*\\/usr\\/local\\/qwt-$$QWT_VERSION/QWT_INSTALL_PREFIX=\\/app/g' -i qwtconfig.pri",
                                "sed 's/#QWT_CONFIG\\s*+=\\s*QwtPkgConfig/QWT_CONFIG+=QwtPkgConfig/g' -i qwtconfig.pri"
                            ]
                        }
                    ]
                },
                {
                    "name" : "libzip",
                    "buildsystem": "cmake-ninja",
                    "cleanup" : [
                        "/bin",
                        "/include",
                        "/lib/pkgconfig",
                        "/share/man",
                        "/lib/*.la"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://libzip.org/download/libzip-1.6.1.tar.xz",
                            "sha256" : "705dac7a671b3f440181481e607b0908129a9cf1ddfcba75d66436c0e7d33641"
                        }
                    ]
                },
                {
                    "name" : "gsl",
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://ftp.halifax.rwth-aachen.de/gnu/gsl/gsl-2.6.tar.gz",
                            "sha256" : "b782339fc7a38fe17689cb39966c4d821236c28018b6593ddb6fd59ee40786a8"
                        }
                    ]
                },
                {
                    "name" : "pyqt5",
                    "config-opts" : [
                        "--disable-static",
                        "--enable-x11"
                    ],
                    "build-options":{
                        "env":{
                            "QMAKEPATH": "/app/lib"
                        }
                    },
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://files.pythonhosted.org/packages/28/6c/640e3f5c734c296a7193079a86842a789edb7988dca39eab44579088a1d1/PyQt5-5.15.2.tar.gz",
                            "sha256" : "372b08dc9321d1201e4690182697c5e7ffb2e0770e6b4a45519025134b12e4fc"
                        },
                        {
                            "type": "script",
                            "commands": [
                                "python3 configure.py --assume-shared --confirm-license --no-designer-plugin --no-qml-plugin --sysroot=/app --qsci-api --qsci-api-destdir=/app/qsci --sipdir=/app/share/sip --sip=/app/bin/sip --sip-incdir=/app/include QMAKE_CFLAGS_RELEASE='-I/usr/include/python3.8/' QMAKE_CXXFLAGS_RELEASE='-I/usr/include/python3.8/'"
                            ],
                            "dest-filename": "configure"
                        }
                    ],
                    "modules" : [
                        {
                            "name" : "sip",
                            "sources" : [
                                {
                                    "type" : "archive",
                                    "url" : "https://www.riverbankcomputing.com/static/Downloads/sip/4.19.24/sip-4.19.24.tar.gz",
                                    "sha256" : "edcd3790bb01938191eef0f6117de0bf56d1136626c0ddb678f3a558d62e41e5"
                                },
                                {
                                    "type": "script",
                                    "commands": [
                                        "python3 configure.py --sip-module PyQt5.sip -b ${FLATPAK_DEST}/bin -d ${FLATPAK_DEST}/lib/python3.8/site-packages -e ${FLATPAK_DEST}/include -v ${FLATPAK_DEST}/share/sip --stubsdir=${FLATPAK_DEST}/lib/python3.8/site-packages"
                                    ],
                                    "dest-filename": "configure"
                                }
                            ],
                            "cleanup" : [
                                "/bin",
                                "/include"
                            ]
                        }
                    ]
                },
                {
                    "name" : "qscintilla",
                    "buildsystem" : "simple",
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://www.riverbankcomputing.com/static/Downloads/QScintilla/2.11.6/QScintilla-2.11.6.tar.gz",
                            "sha256" : "e7346057db47d2fb384467fafccfcb13aa0741373c5d593bc72b55b2f0dd20a7"
                        }
                    ],
                    "build-commands" : [
                        "sed -e 's|\\(target.path\\) = .*|\\1 = /app/lib|' -i Qt4Qt5/qscintilla.pro",
                        "sed -e 's|\\(header.path\\) = .*|\\1 = /app/include|' -i Qt4Qt5/qscintilla.pro",
                        "sed -e 's|\\(trans.path\\) = .*|\\1 = /app/share/qt5/translations|' -i Qt4Qt5/qscintilla.pro",
                        "sed -e 's|\\(qsci.path\\) = .*|\\1 = /app/share/qt5|' -i Qt4Qt5/qscintilla.pro",
                        "sed -e 's|\\(features.path\\) = .*|\\1 = /app/lib/qt5/mkspecs/features|' -i Qt4Qt5/qscintilla.pro",
                        "sed -e \"s|qmake = {'CONFIG': 'qscintilla2'}|qmake = {'CONFIG': 'qscintilla2', 'QT': 'widgets printsupport'}|\" -i Python/configure.py",
                        "cd Qt4Qt5 && qmake && make -j ${FLATPAK_BUILDER_N_JOBS:-`nproc`} && make install",
                        "cd Python && python3 configure.py --pyqt=PyQt5 -n ../Qt4Qt5/ -o ../Qt4Qt5/ --pyqt-sipdir=/app/share/sip --destdir=/app/lib/python3.8/site-packages/PyQt5 --apidir=/app/qsci/api/python --no-stubs --no-dist-info",
                        "echo \"LIBS += /app/lib/libqscintilla2_qt5.so\" >> Python/Qsci/Qsci.pro",
                        "cd Python && make -j ${FLATPAK_BUILDER_N_JOBS:-`nproc`} && make install"
                    ]
                },
                {
                    "name" : "qtkeychain",
                    "buildsystem" : "cmake-ninja",
                    "config-opts" : [
                        "-DCMAKE_INSTALL_LIBDIR=/app/lib",
                        "-DLIB_INSTALL_DIR=/app/lib",
                        "-DBUILD_TRANSLATIONS=NO"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://github.com/frankosterfeld/qtkeychain/archive/v0.12.0.tar.gz",
                            "sha256" : "cc547d58c1402f6724d3ff89e4ca83389d9e2bdcfd9ae3d695fcdffa50a625a8"
                        }
                    ]
                },
                {
                    "name": "python-six",
                    "buildsystem": "simple",
                    "build-commands": [
                        "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} six"
                    ],
                    "sources": [
                        {
                            "type": "file",
                            "url": "https://pypi.python.org/packages/16/d8/bc6316cf98419719bd59c91742194c111b6f2e85abac88e496adefaf7afe/six-1.11.0.tar.gz",
                            "sha256": "70e8a77beed4562e7f14fe23a786b54f6296e34344c23bc42f07b15018ff98e9"
                        }
                    ]
                },
                {
                    "name": "python-future",
                    "buildsystem": "simple",
                    "build-commands": [
                        "pip3 install --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} future"
                    ],
                    "sources": [
                        {
                            "type": "file",
                            "url": "https://files.pythonhosted.org/packages/00/2b/8d082ddfed935f3608cc61140df6dcbf0edea1bc3ab52fb6c29ae3e81e85/future-0.16.0.tar.gz",
                            "sha256": "e39ced1ab767b5936646cedba8bcce582398233d6a627067d4c6a454c90cfedb"
                        }
                    ]
                },
                {
                    "name" : "python-owslib",
                    "buildsystem" : "simple",
                    "build-commands" : [
                        "pip3 install --prefix=/app python_dateutil-*",
                        "pip3 install --prefix=/app pytz-2018.4-py2.py3-none-any.whl",
                        "pip3 install --prefix=/app requests-2.14.2-py2.py3-none-any.whl",
                        "pip3 install --prefix=/app pyproj-1.9.6.tar.gz",
                        "pip3 install --prefix=/app OWSLib-0.16.0.tar.gz"
                    ],
                    "sources" : [
                        {
                            "type" : "file",
                            "url" : "https://files.pythonhosted.org/packages/d4/70/d60450c3dd48ef87586924207ae8907090de0b306af2bce5d134d78615cb/python_dateutil-2.8.1-py2.py3-none-any.whl",
                            "sha256" : "75bb3f31ea686f1197762692a9ee6a7550b59fc6ca3a1f4b5d7e32fb98e2da2a"
                        },
                        {
                            "type" : "file",
                            "url" : "https://files.pythonhosted.org/packages/dc/83/15f7833b70d3e067ca91467ca245bae0f6fe56ddc7451aa0dc5606b120f2/pytz-2018.4-py2.py3-none-any.whl",
                            "sha256" : "65ae0c8101309c45772196b21b74c46b2e5d11b6275c45d251b150d5da334555"
                        },
                        {
                            "type" : "file",
                            "url" : "https://pypi.python.org/packages/e4/b0/286e8a936158e5cc5791d5fa3bc4b1d5a7e1ff4e5b3f3766b63d8e97708a/requests-2.14.2-py2.py3-none-any.whl",
                            "sha256" : "3b39cde35be51762885631cf586f4dc2284951b44d479a4454020758d767cc2f"
                        },
                        {
                            "type" : "file",
                            "url" : "https://files.pythonhosted.org/packages/26/8c/1da0580f334718e04f8bbf74f0515a7fb8185ff96b2560ce080c11aa145b/pyproj-1.9.6.tar.gz",
                            "sha256" : "e0c02b1554b20c710d16d673817b2a89ff94738b0b537aead8ecb2edc4c4487b"
                        },
                        {
                            "type" : "file",
                            "url" : "https://files.pythonhosted.org/packages/ac/71/ff2fbfa64fca17069ce30fac324533aa686c5cb64e6b5f522faed558848f/OWSLib-0.16.0.tar.gz",
                            "sha256" : "ec95a5e93c145a5d84b0074b9ea27570943486552a669151140debf08a100554"
                        }
                    ]
                },
                {
                    "name" : "python-psycopg2",
                    "buildsystem" : "simple",
                    "build-commands" : [
                        "python3 setup.py build",
                        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "http://initd.org/psycopg/tarballs/PSYCOPG-2-8/psycopg2-2.8.6.tar.gz",
                            "sha256" : "fb23f6c71107c37fd667cb4ea363ddeb936b348bbd6449278eb92c189699f543"
                        }
                    ]
                },
                {
                    "name" : "gisgrass",
                    "cleanup" : [
                        "/include",
                        "/lib/pkgconfig",
                        "/share/man",
                        "/lib/*.la"
                    ],
                    "config-opts" : [
                        "--prefix=/app",
                        "--with-freetype-includes=/usr/include/freetype2",
                        "--with-readline",
                        "--with-pthread",
                        "--with-nls",
                        "--with-geos",
                        "--with-sqlite=yes",
                        "--with-python=yes",
                        "--with-postgres"
                    ],
                    "sources" : [
                        {
                            "type" : "git",
                            "url" : "https://github.com/OSGeo/grass.git",
                            "branch" : "7.8.6"
                        }
                    ],
                    "modules": [
                        "shared-modules/glu/glu-9.json",
                        {
                            "name": "zstd",
                            "buildsystem": "cmake-ninja",
                            "config-opts": [ "-DCMAKE_BUILD_TYPE=Release" ],
                            "subdir": "build/cmake",
                            "sources": [
                                {
                                    "type": "git",
                                    "url": "https://github.com/facebook/zstd.git",
                                    "branch" : "v1.4.8"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name" : "saga-gis",
                    "subdir": "saga-gis",
                    "config-opts": [
                        "--enable-python",
                        "--disable-odbc"
                    ],
                    "sources" : [
                        {
                            "type" : "git",
                            "url" : "git://git.code.sf.net/p/saga-gis/code",
                            "branch" : "release-7.6.3"
                        },
                        {
                            "type": "shell",
                            "commands": [
                                "echo \"autoreconf -vfi $@\" > saga-gis/autogen.sh",
                                "chmod a+x saga-gis/autogen.sh"
                            ]
                        }
                    ],
                    "modules": [
                        {
                            "name": "wxWidgets",
                            "cleanup": [
                                "/bin",
                                "/share/bakefile"
                            ],
                            "config-opts": [
                                "--with-opengl",
                                "--with-libjpeg",
                                "--with-libtiff",
                                "--with-libpng",
                                "--with-zlib",
                                "--disable-sdltest",
                                "--enable-unicode",
                                "--enable-display",
                                "--enable-propgrid",
                                "--disable-webkit",
                                "--disable-webview",
                                "--disable-webviewwebkit",
                                "--with-expat=builtin",
                                "--with-libiconv=/usr" ],
                            "build-options" : {
                                "cxxflags":"-std=c++0x"
                            },
                            "sources": [
                                {
                                    "type": "archive",
                                    "url": "https://github.com/wxWidgets/wxWidgets/releases/download/v3.1.4/wxWidgets-3.1.4.tar.bz2",
                                    "sha256":"3ca3a19a14b407d0cdda507a7930c2e84ae1c8e74f946e0144d2fa7d881f1a94"
                                }
                            ]
                        }
                    ]
                },
                {
                    "name" : "PyYAML",
                    "buildsystem" : "simple",
                    "build-commands" : [
                        "python3 setup.py install --prefix=/app --root=/"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://files.pythonhosted.org/packages/a0/a4/d63f2d7597e1a4b55aa3b4d6c5b029991d3b824b5bd331af8d4ab1ed687d/PyYAML-5.4.1.tar.gz",
                            "sha256" : "607774cbba28732bfa802b54baa7484215f530991055bb562efbed5b2f20a45e"
                        }
                    ]
                },
                {
                    "name": "numpy",
                    "buildsystem": "simple",
                    "sources": [
                            {
                                "type": "archive",
                                "url": "https://github.com/numpy/numpy/releases/download/v1.19.5/numpy-1.19.5.tar.gz",
                                "sha256": "d1654047d75fb9d55cc3d46f312d5247eec5f4999039874d2f571bb8021d8f0b"
                            }
                    ],
                    "build-commands": [
                        "python3 setup.py build",
                        "python3 setup.py install --prefix /app"
                    ]
                },
                {
                    "name" : "python3-markupsafe",
                    "buildsystem" : "simple",
                    "ensure-writable" : [
                        "/lib/python*/site-packages/easy-install.pth"
                    ],
                    "sources" : [
                        {
                            "type" : "archive",
                            "url" : "https://files.pythonhosted.org/packages/b9/2e/64db92e53b86efccfaea71321f597fa2e1b2bd3853d8ce658568f7a13094/MarkupSafe-1.1.1.tar.gz",
                            "sha256" : "29872e92839765e546828bb7754a68c418d927cd064fd4708fab9fe9c8bb116b"
                        }
                    ],
                    "build-commands" : [
                        "python3 setup.py build",
                        "python3 setup.py install --prefix /app"
                    ]
                },
                {
                    "name" : "python3-jinja2",
                    "buildsystem" : "simple",
                    "build-commands" : [
                        "pip3 install --prefix=/app Jinja2-2.11.2-py2.py3-none-any.whl"
                    ],
                    "sources" : [
                        {
                            "type" : "file",
                            "url" : "https://files.pythonhosted.org/packages/30/9e/f663a2aa66a09d838042ae1a2c5659828bb9b41ea3a6efa20a20fd92b121/Jinja2-2.11.2-py2.py3-none-any.whl",
                            "sha256" : "f0a4641d3cf955324a89c04f3d94663aa4d638abe8f733ecd3582848e1c37035"
                        }
                    ]
                },
                {
                    "name" : "python3-pygments",
                    "buildsystem" : "simple",
                    "build-commands" : [
                        "python3 setup.py install --prefix=/app --root=/ --optimize=1"
                    ],
                    "sources" : [
                        {
                            "type" : "git",
                            "url" : "https://github.com/pygments/pygments.git",
                            "branch" : "2.7.4"
                        }
                    ]
                },
                {
                    "name": "exiv2",
                    "cleanup": [ "/bin" ],
                    "buildsystem": "cmake-ninja",
                    "config-opts" : [
                        "-DCMAKE_BUILD_TYPE=Release",
                        "-DEXIV2_BUILD_EXIV2_COMMAND=OFF",
                        "-DEXIV2_BUILD_SAMPLES=OFF"
                    ],
                    "sources": [
                        {
                            "type": "git",
                            "url": "https://github.com/Exiv2/exiv2",
                            "branch" : "v0.27.2"
                        }
                    ]
                },
                {
                    "name": "protobuf",
                    "cleanup": [
                        "protoc",
                        "/bin",
                        "/doc",
                        "/lib/plugins"
                    ],
                    "sources": [
                        {
                            "type": "archive",
                            "url": "https://github.com/protocolbuffers/protobuf/releases/download/v3.14.0/protobuf-cpp-3.14.0.tar.gz",
                            "sha256": "50ec5a07c0c55d4ec536dd49021f2e194a26bfdbc531d03d1e9d4d3e27175659"
                        }
                    ]
                }
            ]
        },
        {
            "name": "env-python",
            "buildsystem": "simple",
            "build-commands": [
                "ln -s /usr/bin/python3 /app/bin/python"
            ]
        }
    ]
}
